######################
GULP DEVELOPMENT TASKS
#########################################
	A.	CSS-TASK 
	B.	JS-TASK
	C.	WATCH/INJECT HTML FILES
	D.	OTHER
		1.	SPRITES
		2.	LINE-ENDINGS
		3. 	MANIPULATING FILES
	REFERENCES
#########################################

Think carefully about the tasks you want to have performed and in which order. A well thought-through process will make the actual programming easier.

###############
A.	CSS TASKS
###############

SASS 

Bundle the partial .scss files into a single .css file each time you save changes to a file. Then inject those styles with Browser-sync into to the page.

It is recommended to add the SASS LOGS to the code, so you can easily find where you may have made a mistake.
        
 	.pipe(sass().on('error', sass.logError))

SOURCEMAPS

Allow you to source the exact _partial.css file where you have to make a change. Gulp has some sourcemap capability built-in but the gulp-sourcemaps plugin is more advanced. 

In GULP SRC() AND DEST() you can add an options object as second argument to add sourcemaps and that's it!
	
	src(<glob>, { sourcemaps: true })
 	dest(<glob>, { sourcemaps: true })


When using the GULP-SOURCEMAPS package you INITIATE it before the first .pipe() and WRITE before the dest()

	src()
	.pipe(sourcemaps.init())
	...
 	.pipe(sourcemaps.write())
	pipe(dest());

AUTOPREFIXER

Since you as a developper will probably work with the newest browser version you can leave this step for the build process, but it doesn't hurt either to do it in development. Add the BROWSERLIST object to customize what to support.

BROWSER-SYNC

After the stream reached it's destination at .pipe(dest()) you can add the .pipe(bs.stream()) method to inject new css into the browsers.

UNCSS

Uncss removes the css selectors that you did not use in your project. Use the gulp-uncss plugin.

Important: does not work with template html files. Use te IGNORE option to exclude classes you added with JS on click events.


#############
B.	JS TASK
#############

MODERNIZR: checks your css code for features that are not 100%  supported by all browsers and adds classes to the header of the html. 

Use in combination with differentiated css styles.

Run before JS compilation and import to the vendor.js


TERSER: The gulp-uglify package is does not support ES6 and you would have to work around it with Babel first to convert your JS into es2015. (.pipe(babel()).pipe(uglify()))

Terser is a better option.

WEBPACK: webpack is capable of doing almost all GULP tasks but in combination with GULP you use it for compiling the JS file into a app-[bundle].js and vendor-[bundle].js. See webpack.config.js

#################
C.	WATCH FILES
#################

The watch task is asynchronous and it is best to wrap multiple watch tasks into a function together with the browser-sync server configuration.

You can watch for file changes and and run a GULP TASK function. OR you can run the watch task for changes without a gulp task and add an event listener to it.
 	
	watch(<glob>, <function>);

	watch('*.html').on(''change', bsReload);

AUTO-INJECT CSS AND JS FILES

Instead of manually adding the css and js script tags to your html you can automate this process by using GULP-INJECT. See doc for details and setup.

######################
D.	OTHER GULP TASKS
######################

1. SPRITES: automatically generate sprites from image files, see seperate docs for how-to.

2. LINE-ENDING CORRECTION: if you work on different OS on the same project and push files to GitHub, take into account that the line-endings in files are not identical. To avoid problems with this use the package GULP-LINE-ENDING-CORRECTOR

3. MANIPULATING PROJECT FILES

- COPY FILES AND FOLDERS: copying and deleting files is a simple stream whereby the GLOB is used to match the files that have to be processed. The dest(<glob>', {options}) is the destination path.

In the options you specifcy the base: 'app' from where the recursion starts. 
	
	src('./app/**/*, {base: '.'})
	dest('build')

Will result in build/app/<folder1>, build/app/<folder2>. etc.
	

- DEL FILES AND FOLDERS: it's often best to work with CLEAN or empty folders instead of overwriting existing ones. The del() method can part of a delete function and accepts a GLOB to know what to delete: del(<glob>);

- TRACK CHANGES: The GULP-CHANGED package can be added to a stream using the changed(<destinationFolder) method to check if new files have added or existing one have been removed/updated. 

It compares the src(<glob>) with the files in the destination folder changed(<dest>) and will ONLY PROCESS files that have been changed in the SOURCE folder.

################
IV.	REFERENCES
################
	A. 	WORDPRESS EXAMPLE WORKFLOW FOR CREATING THEMES:

https://www.pixemweb.com/blog/gulp-4-0-0-with-nodejs-imagemin-browsersync-sass-sourcemaps-cleancss-more/
https://css-tricks.com/gulp-for-wordpress-initial-setup/
https://css-tricks.com/gulp-for-wordpress-creating-the-tasks/
https://ahmadawais.com/introducing-wpgulp-an-easy-to-use-wordpress-gulp-boilerplate/
https://www.sitepoint.com/fast-gulp-wordpress-theme-development-workflow/

	B.	GULP SETUP
https://www.sitepoint.com/introduction-gulp-js/
https://www.sitepoint.com/automate-css-tasks-gulp/